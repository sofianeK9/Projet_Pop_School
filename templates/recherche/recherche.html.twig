{% extends 'base.html.twig' %}

{% block title %}Recherche par nom ou prénom{% endblock %}

{% block body %}
    <h1>Recherche par nom ou prénom :</h1>

    <!-- methode HTTPS utilisé est la méthode POST pour soummettre le formulaire  et utile pour securiser les données -->
    {{ form_start(form, {'method' : 'POST'})}}
    {{ form_row(form.keyword) }}
    {{ form_row(form.search) }}
    {{ form_end(form) }}

    {% if keyword is not empty %}
        <h3>Résultats de la recherche pour l'apprenant "{{ keyword }}"</h3>
        {% if results is empty %}
            <p>Aucun résultat trouvé.</p>
        {% else %}
            <ul>
                {% for apprenant in results %}
                <li>
                <a href="{{ path('app_home_apprenant_show', { id: apprenant.id }) }}">{{
                    apprenant.nom
                  }} {{
                    apprenant.prenom
                  }}
                  </a
                  >
                </li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endif %}
{% endblock %}
